# --- Versiones ---
TRIGGER_IMAGE_TAG=v4.0.0-v4-beta.27
POSTGRES_IMAGE_TAG=14
REDIS_IMAGE_TAG=7
ELECTRIC_IMAGE_TAG=1.0.24
CLICKHOUSE_IMAGE_TAG=latest
MINIO_IMAGE_TAG=latest

# --- Dominios (en Coolify se usa SERVICE_FQDN_WEBAPP_3000; aquí solo referencia) ---
# APP_ORIGIN=https://trigger.example.com
# LOGIN_ORIGIN=https://trigger.example.com
# API_ORIGIN=https://trigger.example.com
# DEV_OTEL_EXPORTER_OTLP_ENDPOINT=https://trigger.example.com/otel

# --- Secrets (en Coolify puedes usar SERVICE_PASSWORD_32_* en vez de poner valores aquí) ---
SESSION_SECRET=
MAGIC_LINK_SECRET=
ENCRYPTION_KEY=
MANAGED_WORKER_SECRET=

# --- Postgres ---
POSTGRES_USER=postgres
POSTGRES_PASSWORD=
POSTGRES_DB=postgres
DATABASE_URL=postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/main?schema=public&sslmode=disable
DIRECT_URL=postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/main?schema=public&sslmode=disable

# --- Redis ---
# (usa valores por defecto del compose: host=redis, port=6379)

# --- ElectricSQL ---
# (usa ELECTRIC_ORIGIN=http://electric:3000 del compose)

# --- Object Storage (MinIO interno por defecto) ---
OBJECT_STORE_BASE_URL=http://minio:9000
OBJECT_STORE_ACCESS_KEY_ID=admin
OBJECT_STORE_SECRET_ACCESS_KEY=

# --- ClickHouse / Replicación ---
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_URL=http://default:${CLICKHOUSE_PASSWORD}@clickhouse:8123?secure=false
RUN_REPLICATION_ENABLED=1
RUN_REPLICATION_CLICKHOUSE_URL=http://default:${CLICKHOUSE_PASSWORD}@clickhouse:8123

# --- Registry externo (Tn-Registry) para deploys ---
DEPLOY_REGISTRY_HOST=
DEPLOY_REGISTRY_NAMESPACE=trigger
DEPLOY_REGISTRY_USERNAME=
DEPLOY_REGISTRY_PASSWORD=
# DEPLOY_IMAGE_PLATFORM=linux/amd64

# --- Email/Magic Links (opcional) ---
# EMAIL_TRANSPORT=resend
# RESEND_API_KEY=
# FROM_EMAIL=no-reply@example.com
# REPLY_TO_EMAIL=ops@example.com
# WHITELISTED_EMAILS=
# ADMIN_EMAILS=

# --- Otros opcionales ---
APP_LOG_LEVEL=info
# NODE_MAX_OLD_SPACE_SIZE=4096
# TRIGGER_TELEMETRY_DISABLED=1

# --- Bootstrap (split => desactivado) ---
TRIGGER_BOOTSTRAP_ENABLED=0
